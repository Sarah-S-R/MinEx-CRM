<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Sarah Ryan">
    <meta name="keywords" content="Mineral Exploration, Geology, CRM, Consulting Firm">
    <link rel="stylesheet" type="text/css" href="./css/dashstyles.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <title>MinEx CRM: Dashboard</title>   
</head>

<body>
    <div class="grid-container">
        <!---Header--->
        <header class="header">
            <div class="menu-icon" onclick="openSidebar()">
                <span class="material-icons-outlined">menu</span>
            </div>
            <div class="header-left">
               <!-- <span class="material-icons-outlined">search</span>
                <input type="search" autofocus placeholder="Search..."> -->
                <div id="datetime"></div> <!-- Container for date and time -->
            </div>
            <div class="header-right">
                <div class="dropdown">
                    <a class="dropdown-toggle" href="#" >  
                  <!--     
                     <span class="material-icons-outlined">notifications</span>
                    </a>
                    <div class="dropdown-menu">
                        <ul>
                            <li><a heref="#">Notification 1</a></li>
                        </ul>
                    </div>
                    --> 
                 
                </div>      
                
                <div class="dropdown">
                    <a class="dropdown-toggle" href="profile.html">
                        <span class="material-icons-outlined userAccountCircle">account_circle</span>
                    </a>
                   <!-- 
                     <div class="dropdown-menu">
                        <ul>
                            <li>Profile</li>
                            <li>Settings</li>
                        </ul>
                    </div>
                    --> 
                </div>
        </div>
        </header>
        <!---End Header-->

        <!--Sidebar-->
        <aside id="sidebar">
            <div class="sidebar-title">
                <div class="sidebar-brand">
                    <span class="logoIcon">LOGO</span>
                </div>
                <div class="close-icon" onclick="closeSidebar()">
                    <span class="material-icons-outlined">close</span>
                </div>
            </div>

            <ul class="sidebar-list">
                <li class="sidebar-list-item">
                    <a href="dashboard.html">
                    <span class="material-icons-outlined">dashboard</span>Dashboard
                    </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="clients.html">
                    <span class="material-icons-outlined">groups</span>Clients
                </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="projects.html">
                    <span class="material-icons-outlined">inventory_2</span>Projects
                </a>
                </li>
                <li class="sidebar-list-item">
                    <a href="locations.html">
                    <span class="material-icons-outlined">map</span>Locations
                </a>
                </li>
                <!--
                <li class="sidebar-list-item">
                    <span class="material-icons-outlined">poll</span>Reports
                </li>
                <li class="sidebar-list-item">
                    <span class="material-icons-outlined">settings</span>Settings
                </li>
                -->
                <li class="sidebar-list-item">
                    <a href="#" class="logout">  <span class="material-icons-outlined">logout</span> Log Out</a>
                </li>
            </ul>
        </aside>
        <!--End Sidebar-->

        <!--Main----->
        <main class="main-container">
            <div class="main-title">
                <h2>DASHBOARD</h2>
            </div>
            <div class="welcome-container" id="welcome-container">
                <h2>Welcome back</h2>
                </div>
            <div class="main-cards">

               <!--  <a href="clients.html">     --> 
                <div class="card">
                    <div class="card-inner">
                        <span class="material-icons-outlined">groups</span> 
                        <h3>CLIENTS</h3>
                    </div>
                    <h1 id="clientCount">1500</h1>
                </div>
           <!-- </a> -->

               <!-- <a href="projects.html">  -->
                <div class="card">
                    <div class="card-inner">
                        <span class="material-icons-outlined">inventory_2</span>
                        <h3>PROJECTS</h3>   
                    </div>
                    <h1 id="projectCount"></h1>
                </div>
          <!--  </a> -->

        <!--    <a href="locations.html">   -->
                <div class="card">
                    <div class="card-inner">
                        
                        <span class="material-icons-outlined">map</span>
                        <h3>LOCATIONS</h3>
                    </div>
                    <h1 id="locationCount"></h1>
                </div>
<!--  </a> -->

               <!-- <div class="card">
                    <div class="card-inner">
                        <h3>ANALYTICS</h3>
                        <span class="material-icons-outlined">category</span>
                    </div>
                    <h1>25</h1>
                </div>
            -->

              <!--
                <div class="card">
                    <div class="card-inner">
                        <h3>PROPERTIES</h3>
                        <span class="material-icons-outlined">perm_media</span>
                    </div>
                    <h1>175</h1>
                </div>
                <div class="card">
                    <div class="card-inner">
                        <h3>ALERTS</h3>
                        <span class="material-icons-outlined">notification_important</span>
                    </div>
                    <h1>56</h1>
                </div>
            -->
            </div>

            <!--CHARTS
            <div class="charts">

                <div class="charts-card">
                    <h2 class="chart-title">Top 5 Services</h2>
                    <div id="bar-chart"></div>
                </div>

                <div class="charts-card">
                    <h2 class="chart-title">Purchase and Sales Orders</h2>
                    <div id="area-chart"></div>
                </div>
                -->

            </div>
        </main>
        <!--End Main----->

        <!--------JAVASCRIPTS-------->
        <!--APEX CHARTS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.44.0/apexcharts.min.js"></script>

    <!--CUSTOM-->
    <script src="js/scripts.js"></script>
    <script src="js/projects.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/init.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const projectCountElement = document.getElementById('projectCount');
            if (projectCountElement) {
                const projectCount = getProjectCount(); // Make sure getProjectCount is defined in projects.js
                projectCountElement.textContent = projectCount;
            }
        });

        document.addEventListener('projectUpdated', () => {
    // Update the project count
    updateProjectCount();
});
    </script>

</body>

</html>